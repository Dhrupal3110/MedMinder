/* Label Component Styles */
.ui-label {
  /* Layout */
  display: inline-flex;
  align-items: center;
  gap: var(--label-gap, 4px);
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  cursor: pointer;

  /* Typography - inheriting from Typography system */
  font-family: var(--label-font-family, var(--font-family, inherit));
  font-size: var(--label-font-size, 14px);
  font-weight: var(--label-font-weight, 500);
  line-height: var(--label-line-height, 1.4);
  letter-spacing: var(--label-letter-spacing, 0);

  /* Visual */
  color: var(--label-text-color, var(--text-primary, #1f2937));
  background: transparent;
  border: none;
  outline: none;
  user-select: none;

  /* Transitions */
  transition: var(--label-transition, color 0.2s ease, opacity 0.2s ease);
}

/* Label Content */
.ui-label-content {
  display: inline-block;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Required Indicator */
.ui-label-required-indicator {
  display: inline-block;
  color: var(--label-required-color, var(--danger-color, #dc2626));
  font-size: var(--label-required-size, 1em);
  font-weight: var(--label-required-weight, 600);
  line-height: 1;
  margin-left: var(--label-required-spacing, 2px);
}

/* Size Variants */
.ui-label--sm {
  --label-font-size: var(--label-sm-font-size, 12px);
  --label-font-weight: var(--label-sm-font-weight, 500);
  --label-line-height: var(--label-sm-line-height, 1.3);
  --label-gap: var(--label-sm-gap, 3px);
}

.ui-label--sm .ui-label-required-indicator {
  --label-required-size: var(--label-sm-required-size, 0.9em);
}

.ui-label--md {
  --label-font-size: var(--label-md-font-size, 14px);
  --label-font-weight: var(--label-md-font-weight, 500);
  --label-line-height: var(--label-md-line-height, 1.4);
  --label-gap: var(--label-md-gap, 4px);
}

.ui-label--lg {
  --label-font-size: var(--label-lg-font-size, 16px);
  --label-font-weight: var(--label-lg-font-weight, 600);
  --label-line-height: var(--label-lg-line-height, 1.5);
  --label-gap: var(--label-lg-gap, 5px);
}

.ui-label--lg .ui-label-required-indicator {
  --label-required-size: var(--label-lg-required-size, 1.1em);
}

/* Alignment Variants */
.ui-label--left {
  justify-content: flex-start;
  text-align: left;
}

.ui-label--center {
  justify-content: center;
  text-align: center;
}

.ui-label--right {
  justify-content: flex-end;
  text-align: right;
}

/* Required State */
.ui-label--required {
  font-weight: var(--label-required-font-weight, 600);
}

.ui-label--required .ui-label-content {
  color: var(--label-required-text-color, var(--text-primary, #1f2937));
}

/* Disabled State */
.ui-label--disabled {
  cursor: not-allowed;
  color: var(--label-disabled-color, var(--text-disabled, #9ca3af));
  opacity: var(--label-disabled-opacity, 0.6);
}

.ui-label--disabled .ui-label-required-indicator {
  color: var(--label-disabled-required-color, var(--text-disabled, #9ca3af));
}

/* Focus States */
.ui-label:focus-visible {
  outline: var(--label-focus-outline, 2px solid var(--primary-color, #3b82f6));
  outline-offset: var(--label-focus-outline-offset, 2px);
  border-radius: var(--label-focus-border-radius, 2px);
}

/* Hover States */
.ui-label:hover:not(.ui-label--disabled) {
  color: var(--label-hover-color, var(--primary-color, #3b82f6));
}

.ui-label:hover:not(.ui-label--disabled) .ui-label-content {
  color: var(--label-hover-text-color, var(--primary-color, #3b82f6));
}

/* Active States */
.ui-label:active:not(.ui-label--disabled) {
  color: var(--label-active-color, var(--primary-hover, #2563eb));
}

/* Legend specific styles (when used as="legend") */
legend.ui-label {
  cursor: default;
  padding: var(--label-legend-padding, 0 8px);
  margin: var(--label-legend-margin, 0);
  border: none;
  width: auto;
}

/* Dark Theme Support */
[data-theme="dark"] .ui-label {
  --label-text-color: var(--label-text-color-dark, var(--text-primary-dark, #f9fafb));
  --label-required-color: var(--label-required-color-dark, var(--danger-color-dark, #f87171));
  --label-disabled-color: var(--label-disabled-color-dark, var(--text-disabled-dark, #6b7280));
  --label-hover-color: var(--label-hover-color-dark, var(--primary-color-dark, #60a5fa));
  --label-hover-text-color: var(--label-hover-text-color-dark, var(--primary-color-dark, #60a5fa));
  --label-active-color: var(--label-active-color-dark, var(--primary-hover-dark, #3b82f6));
}

[data-theme="dark"] .ui-label--required .ui-label-content {
  --label-required-text-color: var(--label-required-text-color-dark, var(--text-primary-dark, #f9fafb));
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .ui-label {
    font-weight: var(--label-high-contrast-weight, 600);
  }

  .ui-label-required-indicator {
    font-weight: var(--label-required-high-contrast-weight, 700);
  }

  .ui-label:focus-visible {
    outline-width: var(--label-focus-outline-width-high-contrast, 3px);
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .ui-label {
    transition: none;
  }
}

/* RTL Support */
[dir="rtl"] .ui-label {
  text-align: right;
}

[dir="rtl"] .ui-label--left {
  justify-content: flex-end;
  text-align: right;
}

[dir="rtl"] .ui-label--right {
  justify-content: flex-start;
  text-align: left;
}

[dir="rtl"] .ui-label-required-indicator {
  margin-left: 0;
  margin-right: var(--label-required-spacing, 2px);
}

[dir="rtl"] legend.ui-label {
  text-align: right;
}

/* Print Styles */
@media print {
  .ui-label {
    color: var(--label-print-color, #000) !important;
    background: transparent !important;
    text-shadow: none !important;
  }

  .ui-label-required-indicator {
    color: var(--label-required-print-color, #000) !important;
  }
}

/* Responsive Typography */
@media (max-width: 480px) {
  .ui-label--lg {
    --label-font-size: var(--label-lg-mobile-font-size, 15px);
  }

  .ui-label--md {
    --label-font-size: var(--label-md-mobile-font-size, 13px);
  }

  .ui-label--sm {
    --label-font-size: var(--label-sm-mobile-font-size, 11px);
  }
}

/* Form Integration Styles */
.ui-label + .ui-input,
.ui-label + .ui-textarea,
.ui-label + .ui-select {
  margin-top: var(--label-input-spacing, 4px);
}

/* Fieldset Integration */
fieldset .ui-label {
  margin-bottom: var(--label-fieldset-spacing, 8px);
}

/* Accessibility Enhancements */
.ui-label[aria-required="true"]:not(.ui-label--required) {
  font-weight: var(--label-aria-required-weight, 600);
}

.ui-label[aria-disabled="true"] {
  cursor: not-allowed;
  color: var(--label-disabled-color, var(--text-disabled, #9ca3af));
  opacity: var(--label-disabled-opacity, 0.6);
}

/* Focus within for complex label content */
.ui-label:focus-within {
  outline: var(--label-focus-within-outline, 2px solid var(--primary-color, #3b82f6));
  outline-offset: var(--label-focus-within-outline-offset, 2px);
  border-radius: var(--label-focus-within-border-radius, 2px);
}

/* Animation for required indicator appearance */
@keyframes ui-label-required-appear {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.ui-label--required .ui-label-required-indicator {
  animation: var(--label-required-animation, ui-label-required-appear 0.2s ease-out);
}

/* Ensure proper line breaks for long labels */
.ui-label-content {
  hyphens: var(--label-hyphens, auto);
  word-break: var(--label-word-break, break-word);
}

/* Spacing for inline labels */
.ui-label.ui-label--inline {
  margin-right: var(--label-inline-spacing, 12px);
}

[dir="rtl"] .ui-label.ui-label--inline {
  margin-left: var(--label-inline-spacing, 12px);
  margin-right: 0;
}
